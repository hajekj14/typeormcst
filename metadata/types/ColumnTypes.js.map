{"version":3,"sources":["../../src/metadata/types/ColumnTypes.ts"],"names":[],"mappings":"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","file":"ColumnTypes.js","sourcesContent":["/**\r\n * All data types that column can be.\r\n */\r\nexport type ColumnType = \"string\"|\"text\"|\"number\"|\"integer\"|\"int\"|\"smallint\"|\"bigint\"|\"float\"|\"double\"|\r\n                         \"decimal\"|\"date\"|\"time\"|\"datetime\"|\"boolean\"|\"json\"|\"jsonb\"|\"simple_array\"|\"uuid\";\r\n\r\n/**\r\n * All data types that column can be.\r\n */\r\nexport class ColumnTypes {\r\n\r\n    /**\r\n     * SQL VARCHAR type. Your class's property type should be a \"string\".\r\n     */\r\n    static STRING: ColumnType = \"string\";\r\n\r\n    /**\r\n     * SQL CLOB type. Your class's property type should be a \"string\".\r\n     */\r\n    static TEXT: ColumnType = \"text\";\r\n\r\n    /**\r\n     * SQL FLOAT type. Your class's property type should be a \"number\".\r\n     */\r\n    static NUMBER: ColumnType = \"number\";\r\n\r\n    /**\r\n     * SQL INT type. Your class's property type should be a \"number\".\r\n     */\r\n    static INTEGER: ColumnType = \"integer\";\r\n\r\n    /**\r\n     * SQL INT type. Your class's property type should be a \"number\".\r\n     */\r\n    static INT: ColumnType = \"int\";\r\n\r\n    /**\r\n     * SQL SMALLINT type. Your class's property type should be a \"number\".\r\n     */\r\n    static SMALLINT: ColumnType = \"smallint\";\r\n\r\n    /**\r\n     * SQL BIGINT type. Your class's property type should be a \"number\".\r\n     */\r\n    static BIGINT: ColumnType = \"bigint\";\r\n\r\n    /**\r\n     * SQL FLOAT type. Your class's property type should be a \"number\".\r\n     */\r\n    static FLOAT: ColumnType = \"float\";\r\n\r\n    /**\r\n     * SQL FLOAT type. Your class's property type should be a \"number\".\r\n     */\r\n    static DOUBLE: ColumnType = \"double\";\r\n\r\n    /**\r\n     * SQL DECIMAL type. Your class's property type should be a \"string\".\r\n     */\r\n    static DECIMAL: ColumnType = \"decimal\";\r\n\r\n    /**\r\n     * SQL DATETIME type. Your class's property type should be a \"Date\" object.\r\n     */\r\n    static DATE: ColumnType = \"date\";\r\n\r\n    /**\r\n     * SQL TIME type. Your class's property type should be a \"Date\" object.\r\n     */\r\n    static TIME: ColumnType = \"time\";\r\n\r\n    /**\r\n     * SQL DATETIME/TIMESTAMP type. Your class's property type should be a \"Date\" object.\r\n     */\r\n    static DATETIME: ColumnType = \"datetime\";\r\n\r\n    /**\r\n     * SQL BOOLEAN type. Your class's property type should be a \"boolean\".\r\n     */\r\n    static BOOLEAN: ColumnType = \"boolean\";\r\n\r\n    /**\r\n     * SQL CLOB type. Your class's property type should be any Object.\r\n     */\r\n    static JSON: ColumnType = \"json\";\r\n\r\n    /**\r\n     * Postgres jsonb type. Your class's property type should be any Object.\r\n     */\r\n    static JSONB: ColumnType = \"jsonb\";\r\n\r\n    /**\r\n     * SQL CLOB type. Your class's property type should be array of string. Note: value in this column should not contain\r\n     * a comma (\",\") since this symbol is used to create a string from the array, using .join(\",\") operator.\r\n     */\r\n    static SIMPLE_ARRAY: ColumnType = \"simple_array\";\r\n\r\n    /**\r\n     * UUID type. Serialized to a string in typescript or javascript\r\n     */\r\n    static UUID: ColumnType = \"uuid\";\r\n\r\n    /**\r\n     * Checks if given type in a string format is supported by ORM.\r\n     */\r\n    static isTypeSupported(type: string) {\r\n        return this.supportedTypes.indexOf(<ColumnType> type) !== -1;\r\n    }\r\n\r\n    /**\r\n     * Returns list of all supported types by the ORM.\r\n     */\r\n    static get supportedTypes() {\r\n        return [\r\n            this.STRING,\r\n            this.TEXT,\r\n            this.NUMBER,\r\n            this.INTEGER,\r\n            this.INT,\r\n            this.SMALLINT,\r\n            this.BIGINT,\r\n            this.FLOAT,\r\n            this.DOUBLE,\r\n            this.DECIMAL,\r\n            this.DATE,\r\n            this.TIME,\r\n            this.DATETIME,\r\n            this.BOOLEAN,\r\n            this.JSON,\r\n            this.JSONB,\r\n            this.SIMPLE_ARRAY,\r\n            this.UUID\r\n        ];\r\n    }\r\n\r\n    /**\r\n     * Tries to guess a column type from the given function.\r\n     */\r\n    static determineTypeFromFunction(type: Function): ColumnType|undefined {\r\n        if (type instanceof Date) {\r\n            return ColumnTypes.DATETIME;\r\n\r\n        } else if (type instanceof Function) {\r\n            const typeName = (<any>type).name.toLowerCase();\r\n            switch (typeName) {\r\n                case \"number\":\r\n                    return ColumnTypes.NUMBER;\r\n                case \"boolean\":\r\n                    return ColumnTypes.BOOLEAN;\r\n                case \"string\":\r\n                    return ColumnTypes.STRING;\r\n                case \"date\":\r\n                    return ColumnTypes.DATETIME;\r\n                case \"object\":\r\n                    return ColumnTypes.JSON;\r\n            }\r\n\r\n        } else if (type instanceof Object) {\r\n            return ColumnTypes.JSON;\r\n\r\n        }\r\n\r\n        return undefined;\r\n    }\r\n\r\n    static typeToString(type: Function): string {\r\n        return (type as any).name.toLowerCase();\r\n    }\r\n\r\n    /**\r\n     * Checks if column type is numeric.\r\n     */\r\n    static isNumeric(type: ColumnType) {\r\n        return  type === ColumnTypes.NUMBER ||\r\n                type === ColumnTypes.INT ||\r\n                type === ColumnTypes.INTEGER ||\r\n                type === ColumnTypes.BIGINT ||\r\n                type === ColumnTypes.SMALLINT ||\r\n                type === ColumnTypes.DOUBLE ||\r\n                type === ColumnTypes.FLOAT;\r\n    }\r\n\r\n}"],"sourceRoot":"../.."}