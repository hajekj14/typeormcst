{"version":3,"sources":["../../src/entity-manager/EntityManager.ts"],"names":[],"mappings":"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","file":"EntityManager.js","sourcesContent":["import {Connection} from \"../connection/Connection\";\r\nimport {FindManyOptions} from \"../find-options/FindManyOptions\";\r\nimport {ObjectType} from \"../common/ObjectType\";\r\nimport {QueryRunnerProviderAlreadyReleasedError} from \"../query-runner/error/QueryRunnerProviderAlreadyReleasedError\";\r\nimport {QueryRunnerProvider} from \"../query-runner/QueryRunnerProvider\";\r\nimport {ObjectLiteral} from \"../common/ObjectLiteral\";\r\nimport {FindOneOptions} from \"../find-options/FindOneOptions\";\r\nimport {DeepPartial} from \"../common/DeepPartial\";\r\nimport {RemoveOptions} from \"../repository/RemoveOptions\";\r\nimport {SaveOptions} from \"../repository/SaveOptions\";\r\nimport {RepositoryAggregator} from \"../repository/RepositoryAggregator\";\r\nimport {NoNeedToReleaseEntityManagerError} from \"./error/NoNeedToReleaseEntityManagerError\";\r\nimport {SpecificRepository} from \"../repository/SpecificRepository\";\r\nimport {MongoRepository} from \"../repository/MongoRepository\";\r\nimport {TreeRepository} from \"../repository/TreeRepository\";\r\nimport {Repository} from \"../repository/Repository\";\r\nimport {RepositoryNotTreeError} from \"../connection/error/RepositoryNotTreeError\";\r\nimport {QueryBuilder} from \"../query-builder/QueryBuilder\";\r\nimport {FindOptionsUtils} from \"../find-options/FindOptionsUtils\";\r\nimport {SubjectBuilder} from \"../persistence/SubjectBuilder\";\r\nimport {SubjectOperationExecutor} from \"../persistence/SubjectOperationExecutor\";\r\nimport {PlainObjectToNewEntityTransformer} from \"../query-builder/transformer/PlainObjectToNewEntityTransformer\";\r\nimport {PlainObjectToDatabaseEntityTransformer} from \"../query-builder/transformer/PlainObjectToDatabaseEntityTransformer\";\r\nimport {CustomRepositoryNotFoundError} from \"../repository/error/CustomRepositoryNotFoundError\";\r\nimport {getMetadataArgsStorage} from \"../index\";\r\nimport {AbstractRepository} from \"../repository/AbstractRepository\";\r\nimport {CustomRepositoryCannotInheritRepositoryError} from \"../repository/error/CustomRepositoryCannotInheritRepositoryError\";\r\n\r\n/**\r\n * Entity manager supposed to work with any entity, automatically find its repository and call its methods,\r\n * whatever entity type are you passing.\r\n */\r\nexport class EntityManager {\r\n\r\n    // -------------------------------------------------------------------------\r\n    // Private properties\r\n    // -------------------------------------------------------------------------\r\n\r\n    /**\r\n     * Stores temporarily user data.\r\n     * Useful for sharing data with subscribers.\r\n     */\r\n    private data: ObjectLiteral = {};\r\n\r\n    /**\r\n     * Stores all registered repositories.\r\n     */\r\n    private repositoryAggregators: RepositoryAggregator[] = [];\r\n\r\n    // -------------------------------------------------------------------------\r\n    // Constructor\r\n    // -------------------------------------------------------------------------\r\n\r\n    /**\r\n     * @param connection Connection to be used in this entity manager\r\n     * @param queryRunnerProvider Custom query runner to be used for operations in this entity manager\r\n     */\r\n    constructor(public connection: Connection,\r\n                protected queryRunnerProvider?: QueryRunnerProvider) {\r\n    }\r\n\r\n    // -------------------------------------------------------------------------\r\n    // Public Methods\r\n    // -------------------------------------------------------------------------\r\n\r\n    /**\r\n     * Gets user data by a given key.\r\n     * Used get stored data stored in a transactional entity manager.\r\n     */\r\n    getData(key: string): any {\r\n        return this.data[key];\r\n    }\r\n\r\n    /**\r\n     * Sets value for the given key in user data.\r\n     * Used to store data in a transactional entity manager which can be accessed in subscribers then.\r\n     */\r\n    setData(key: string, value: any): this {\r\n        this.data[key] = value;\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Checks if entity has an id.\r\n     */\r\n    hasId(entity: any): boolean;\r\n\r\n    /**\r\n     * Checks if entity of given schema name has an id.\r\n     */\r\n    hasId(target: Function|string, entity: any): boolean;\r\n\r\n    /**\r\n     * Checks if entity has an id by its Function type or schema name.\r\n     */\r\n    hasId(targetOrEntity: any|Function|string, maybeEntity?: any): boolean {\r\n        const target = arguments.length === 2 ? targetOrEntity : targetOrEntity.constructor;\r\n        const entity = arguments.length === 2 ? maybeEntity : targetOrEntity;\r\n        const metadata = this.connection.getMetadata(target);\r\n        return metadata.hasId(entity);\r\n    }\r\n\r\n    /**\r\n     * Gets entity mixed id.\r\n     */\r\n    getId(entity: any): any;\r\n\r\n    /**\r\n     * Gets entity mixed id.\r\n     */\r\n    getId(target: Function|string, entity: any): any;\r\n\r\n    /**\r\n     * Gets entity mixed id.\r\n     */\r\n    getId(targetOrEntity: any|Function|string, maybeEntity?: any): any {\r\n        const target = arguments.length === 2 ? targetOrEntity : targetOrEntity.constructor;\r\n        const entity = arguments.length === 2 ? maybeEntity : targetOrEntity;\r\n        const metadata = this.connection.getMetadata(target);\r\n        return metadata.getEntityIdMixedMap(entity);\r\n    }\r\n\r\n    /**\r\n     * Creates a new query builder that can be used to build a sql query.\r\n     */\r\n    createQueryBuilder<Entity>(entityClass: ObjectType<Entity>|Function|string, alias: string, queryRunnerProvider?: QueryRunnerProvider): QueryBuilder<Entity> {\r\n        const metadata = this.connection.getMetadata(entityClass);\r\n        return new QueryBuilder(this.connection, queryRunnerProvider || this.queryRunnerProvider)\r\n            .select(alias)\r\n            .from(metadata.target, alias);\r\n    }\r\n\r\n    /**\r\n     * Creates a new entity instance.\r\n     */\r\n    create<Entity>(entityClass: ObjectType<Entity>): Entity;\r\n\r\n    /**\r\n     * Creates a new entity instance and copies all entity properties from this object into a new entity.\r\n     * Note that it copies only properties that present in entity schema.\r\n     */\r\n    create<Entity>(entityClass: ObjectType<Entity>|string, plainObject: DeepPartial<Entity>): Entity;\r\n\r\n    /**\r\n     * Creates a new entities and copies all entity properties from given objects into their new entities.\r\n     * Note that it copies only properties that present in entity schema.\r\n     */\r\n    create<Entity>(entityClass: ObjectType<Entity>|string, plainObjects: DeepPartial<Entity>[]): Entity[];\r\n\r\n    /**\r\n     * Creates a new entity instance or instances.\r\n     * Can copy properties from the given object into new entities.\r\n     */\r\n    create<Entity>(entityClass: ObjectType<Entity>|string, plainObjectOrObjects?: DeepPartial<Entity>|DeepPartial<Entity>[]): Entity|Entity[] {\r\n        const metadata = this.connection.getMetadata(entityClass);\r\n\r\n        if (!plainObjectOrObjects)\r\n            return metadata.create();\r\n\r\n        if (plainObjectOrObjects instanceof Array)\r\n            return plainObjectOrObjects.map(plainEntityLike => this.create(entityClass, plainEntityLike));\r\n\r\n        return this.merge(entityClass, metadata.create(), plainObjectOrObjects);\r\n    }\r\n\r\n    /**\r\n     * Merges two entities into one new entity.\r\n     */\r\n    merge<Entity>(entityClass: ObjectType<Entity>|string, mergeIntoEntity: Entity, ...entityLikes: DeepPartial<Entity>[]): Entity { // todo: throw exception ie tntity manager is released\r\n        const metadata = this.connection.getMetadata(entityClass);\r\n        const plainObjectToEntityTransformer = new PlainObjectToNewEntityTransformer();\r\n        entityLikes.forEach(object => plainObjectToEntityTransformer.transform(mergeIntoEntity, object, metadata));\r\n        return mergeIntoEntity;\r\n    }\r\n\r\n    /**\r\n     * Creates a new entity from the given plan javascript object. If entity already exist in the database, then\r\n     * it loads it (and everything related to it), replaces all values with the new ones from the given object\r\n     * and returns this new entity. This new entity is actually a loaded from the db entity with all properties\r\n     * replaced from the new object.\r\n     */\r\n    async preload<Entity>(entityClass: ObjectType<Entity>|string, entityLike: DeepPartial<Entity>): Promise<Entity|undefined> {\r\n        const metadata = this.connection.getMetadata(entityClass);\r\n        const plainObjectToDatabaseEntityTransformer = new PlainObjectToDatabaseEntityTransformer(this.connection.manager);\r\n        const transformedEntity = await plainObjectToDatabaseEntityTransformer.transform(entityLike, metadata);\r\n        if (transformedEntity)\r\n            return this.merge(entityClass, transformedEntity as Entity, entityLike);\r\n\r\n        return undefined;\r\n    }\r\n\r\n    /**\r\n     * Persists (saves) all given entities in the database.\r\n     * If entities do not exist in the database then inserts, otherwise updates.\r\n     */\r\n    save<Entity>(entity: Entity, options?: SaveOptions): Promise<Entity>;\r\n\r\n    /**\r\n     * Persists (saves) all given entities in the database.\r\n     * If entities do not exist in the database then inserts, otherwise updates.\r\n     */\r\n    save<Entity>(targetOrEntity: Function|string, entity: Entity, options?: SaveOptions): Promise<Entity>;\r\n\r\n    /**\r\n     * Persists (saves) all given entities in the database.\r\n     * If entities do not exist in the database then inserts, otherwise updates.\r\n     */\r\n    save<Entity>(entities: Entity[], options?: SaveOptions): Promise<Entity[]>;\r\n\r\n    /**\r\n     * Persists (saves) all given entities in the database.\r\n     * If entities do not exist in the database then inserts, otherwise updates.\r\n     */\r\n    save<Entity>(targetOrEntity: Function|string, entities: Entity[], options?: SaveOptions): Promise<Entity[]>;\r\n\r\n    /**\r\n     * Persists (saves) a given entity in the database.\r\n     */\r\n    save<Entity>(targetOrEntity: (Entity|Entity[])|Function|string, maybeEntityOrOptions?: Entity|Entity[], maybeOptions?: SaveOptions): Promise<Entity|Entity[]> {\r\n\r\n        const target = (arguments.length > 1 && (targetOrEntity instanceof Function || typeof targetOrEntity === \"string\")) ? targetOrEntity as Function|string : undefined;\r\n        const entity: Entity|Entity[] = target ? maybeEntityOrOptions as Entity|Entity[] : targetOrEntity as Entity|Entity[];\r\n        const options = target ? maybeOptions : maybeEntityOrOptions as SaveOptions;\r\n\r\n        return Promise.resolve().then(async () => { // we MUST call \"fake\" resolve here to make sure all properties of lazily loaded properties are resolved.\r\n            // todo: throw exception if constructor in target is not set\r\n            if (entity instanceof Array) {\r\n                await Promise.all(entity.map(e => {\r\n                    const finalTarget = target ? target : e.constructor;\r\n                    return this.saveOne(finalTarget, e, options) as any;\r\n                }));\r\n            } else {\r\n                const finalTarget = target ? target : entity.constructor;\r\n                await this.saveOne(finalTarget, entity as Entity, options);\r\n            }\r\n\r\n            return entity;\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Persists (saves) all given entities in the database.\r\n     * If entities do not exist in the database then inserts, otherwise updates.\r\n     *\r\n     * @deprecated\r\n     */\r\n    persist<Entity>(entity: Entity, options?: SaveOptions): Promise<Entity>;\r\n\r\n    /**\r\n     * Persists (saves) all given entities in the database.\r\n     * If entities do not exist in the database then inserts, otherwise updates.\r\n     *\r\n     * @deprecated\r\n     */\r\n    persist<Entity>(targetOrEntity: Function, entity: Entity, options?: SaveOptions): Promise<Entity>;\r\n\r\n    /**\r\n     * Persists (saves) all given entities in the database.\r\n     * If entities do not exist in the database then inserts, otherwise updates.\r\n     *\r\n     * @deprecated\r\n     */\r\n    persist<Entity>(targetOrEntity: string, entity: Entity, options?: SaveOptions): Promise<Entity>;\r\n\r\n    /**\r\n     * Persists (saves) all given entities in the database.\r\n     * If entities do not exist in the database then inserts, otherwise updates.\r\n     *\r\n     * @deprecated\r\n     */\r\n    persist<Entity>(entities: Entity[], options?: SaveOptions): Promise<Entity[]>;\r\n\r\n    /**\r\n     * Persists (saves) all given entities in the database.\r\n     * If entities do not exist in the database then inserts, otherwise updates.\r\n     *\r\n     * @deprecated\r\n     */\r\n    persist<Entity>(targetOrEntity: Function, entities: Entity[], options?: SaveOptions): Promise<Entity[]>;\r\n\r\n    /**\r\n     * Persists (saves) all given entities in the database.\r\n     * If entities do not exist in the database then inserts, otherwise updates.\r\n     *\r\n     * @deprecated\r\n     */\r\n    persist<Entity>(targetOrEntity: string, entities: Entity[], options?: SaveOptions): Promise<Entity[]>;\r\n\r\n    /**\r\n     * Persists (saves) a given entity in the database.\r\n     *\r\n     * @deprecated\r\n     */\r\n    persist<Entity>(targetOrEntity: (Entity|Entity[])|Function|string, maybeEntity?: Entity|Entity[], options?: SaveOptions): Promise<Entity|Entity[]> {\r\n        return this.save(targetOrEntity as any, maybeEntity as any, options);\r\n    }\r\n\r\n    /**\r\n     * Updates entity partially. Entity can be found by a given conditions.\r\n     */\r\n    async update<Entity>(target: ObjectType<Entity>|string, conditions: Partial<Entity>, partialEntity: DeepPartial<Entity>, options?: SaveOptions): Promise<void>;\r\n\r\n    /**\r\n     * Updates entity partially. Entity can be found by a given find options.\r\n     */\r\n    async update<Entity>(target: ObjectType<Entity>|string, findOptions: FindOneOptions<Entity>, partialEntity: DeepPartial<Entity>, options?: SaveOptions): Promise<void>;\r\n\r\n    /**\r\n     * Updates entity partially. Entity can be found by a given conditions.\r\n     */\r\n    async update<Entity>(target: ObjectType<Entity>|string, conditionsOrFindOptions: Partial<Entity>|FindOneOptions<Entity>, partialEntity: DeepPartial<Entity>, options?: SaveOptions): Promise<void> {\r\n        const entity = await this.findOne(target, conditionsOrFindOptions as any); // this is temporary, in the future can be refactored to perform better\r\n        if (!entity)\r\n            throw new Error(`Cannot find entity to update by a given criteria`);\r\n\r\n        Object.assign(entity, partialEntity);\r\n        await this.save(entity, options);\r\n    }\r\n\r\n    /**\r\n     * Updates entity partially. Entity will be found by a given id.\r\n     */\r\n    async updateById<Entity>(target: ObjectType<Entity>|string, id: any, partialEntity: DeepPartial<Entity>, options?: SaveOptions): Promise<void> {\r\n        const entity = await this.findOneById(target, id as any); // this is temporary, in the future can be refactored to perform better\r\n        if (!entity)\r\n            throw new Error(`Cannot find entity to update by a id`);\r\n\r\n        Object.assign(entity, partialEntity);\r\n        await this.save(entity, options);\r\n    }\r\n\r\n    /**\r\n     * Removes a given entity from the database.\r\n     */\r\n    remove<Entity>(entity: Entity): Promise<Entity>;\r\n\r\n    /**\r\n     * Removes a given entity from the database.\r\n     */\r\n    remove<Entity>(targetOrEntity: ObjectType<Entity>|string, entity: Entity, options?: RemoveOptions): Promise<Entity>;\r\n\r\n    /**\r\n     * Removes a given entity from the database.\r\n     */\r\n    remove<Entity>(entity: Entity[], options?: RemoveOptions): Promise<Entity>;\r\n\r\n    /**\r\n     * Removes a given entity from the database.\r\n     */\r\n    remove<Entity>(targetOrEntity: ObjectType<Entity>|string, entity: Entity[], options?: RemoveOptions): Promise<Entity[]>;\r\n\r\n    /**\r\n     * Removes a given entity from the database.\r\n     */\r\n    remove<Entity>(targetOrEntity: (Entity|Entity[])|Function|string, maybeEntityOrOptions?: Entity|Entity[], maybeOptions?: RemoveOptions): Promise<Entity|Entity[]> {\r\n\r\n        const target = (arguments.length > 1 && (targetOrEntity instanceof Function || typeof targetOrEntity === \"string\")) ? targetOrEntity as Function|string : undefined;\r\n        const entity: Entity|Entity[] = target ? maybeEntityOrOptions as Entity|Entity[] : targetOrEntity as Entity|Entity[];\r\n        const options = target ? maybeOptions : maybeEntityOrOptions as RemoveOptions;\r\n\r\n        return Promise.resolve().then(async () => { // we MUST call \"fake\" resolve here to make sure all properties of lazily loaded properties are resolved.\r\n            // todo: throw exception if constructor in target is not set\r\n            if (entity instanceof Array) {\r\n                await Promise.all(entity.map(e => {\r\n                    const finalTarget = target ? target : e.constructor;\r\n                    return this.removeOne(finalTarget, e, options) as any;\r\n                }));\r\n            } else {\r\n                const finalTarget = target ? target : entity.constructor;\r\n                await this.removeOne(finalTarget, entity as Entity, options);\r\n            }\r\n\r\n            return entity;\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Removes entity by a given entity id.\r\n     */\r\n    async removeById<Entity>(targetOrEntity: ObjectType<Entity>|string, id: any, options?: RemoveOptions): Promise<void> {\r\n        const entity = await this.findOneById<any>(targetOrEntity, id); // this is temporary, in the future can be refactored to perform better\r\n        if (!entity)\r\n            throw new Error(`Cannot find entity to remove by a given id`);\r\n\r\n        await this.remove(entity, options);\r\n    }\r\n\r\n    /**\r\n     * Counts entities that match given options.\r\n     */\r\n    count<Entity>(entityClass: ObjectType<Entity>|string, options?: FindManyOptions<Entity>): Promise<number>;\r\n\r\n    /**\r\n     * Counts entities that match given conditions.\r\n     */\r\n    count<Entity>(entityClass: ObjectType<Entity>|string, conditions?: Partial<Entity>): Promise<number>;\r\n\r\n    /**\r\n     * Counts entities that match given find options or conditions.\r\n     */\r\n    count<Entity>(entityClass: ObjectType<Entity>|string, optionsOrConditions?: FindManyOptions<Entity>|Partial<Entity>): Promise<number> {\r\n        const metadata = this.connection.getMetadata(entityClass);\r\n        const qb = this.createQueryBuilder(entityClass, FindOptionsUtils.extractFindManyOptionsAlias(optionsOrConditions) || metadata.name);\r\n        return FindOptionsUtils.applyFindManyOptionsOrConditionsToQueryBuilder(qb, optionsOrConditions).getCount();\r\n    }\r\n\r\n    /**\r\n     * Finds entities that match given options.\r\n     */\r\n    find<Entity>(entityClass: ObjectType<Entity>|string, options?: FindManyOptions<Entity>): Promise<Entity[]>;\r\n\r\n    /**\r\n     * Finds entities that match given conditions.\r\n     */\r\n    find<Entity>(entityClass: ObjectType<Entity>|string, conditions?: Partial<Entity>): Promise<Entity[]>;\r\n\r\n    /**\r\n     * Finds entities that match given find options or conditions.\r\n     */\r\n    find<Entity>(entityClass: ObjectType<Entity>|string, optionsOrConditions?: FindManyOptions<Entity>|Partial<Entity>): Promise<Entity[]> {\r\n        const metadata = this.connection.getMetadata(entityClass);\r\n        const qb = this.createQueryBuilder(entityClass, FindOptionsUtils.extractFindManyOptionsAlias(optionsOrConditions) || metadata.name);\r\n        return FindOptionsUtils.applyFindManyOptionsOrConditionsToQueryBuilder(qb, optionsOrConditions).getMany();\r\n    }\r\n\r\n    /**\r\n     * Finds entities that match given find options.\r\n     * Also counts all entities that match given conditions,\r\n     * but ignores pagination settings (from and take options).\r\n     */\r\n    findAndCount<Entity>(entityClass: ObjectType<Entity>|string, options?: FindManyOptions<Entity>): Promise<[Entity[], number]>;\r\n\r\n    /**\r\n     * Finds entities that match given conditions.\r\n     * Also counts all entities that match given conditions,\r\n     * but ignores pagination settings (from and take options).\r\n     */\r\n    findAndCount<Entity>(entityClass: ObjectType<Entity>|string, conditions?: Partial<Entity>): Promise<[Entity[], number]>;\r\n\r\n    /**\r\n     * Finds entities that match given find options and conditions.\r\n     * Also counts all entities that match given conditions,\r\n     * but ignores pagination settings (from and take options).\r\n     */\r\n    findAndCount<Entity>(entityClass: ObjectType<Entity>|string, optionsOrConditions?: FindManyOptions<Entity>|Partial<Entity>): Promise<[Entity[], number]> {\r\n        const metadata = this.connection.getMetadata(entityClass);\r\n        const qb = this.createQueryBuilder(entityClass, FindOptionsUtils.extractFindManyOptionsAlias(optionsOrConditions) || metadata.name);\r\n        return FindOptionsUtils.applyFindManyOptionsOrConditionsToQueryBuilder(qb, optionsOrConditions).getManyAndCount();\r\n    }\r\n\r\n    /**\r\n     * Finds entities with ids.\r\n     * Optionally find options can be applied.\r\n     */\r\n    findByIds<Entity>(entityClass: ObjectType<Entity>|string, ids: any[], options?: FindManyOptions<Entity>): Promise<Entity[]>;\r\n\r\n    /**\r\n     * Finds entities with ids.\r\n     * Optionally conditions can be applied.\r\n     */\r\n    findByIds<Entity>(entityClass: ObjectType<Entity>|string, ids: any[], conditions?: Partial<Entity>): Promise<Entity[]>;\r\n\r\n    /**\r\n     * Finds entities with ids.\r\n     * Optionally find options or conditions can be applied.\r\n     */\r\n    findByIds<Entity>(entityClass: ObjectType<Entity>|string, ids: any[], optionsOrConditions?: FindManyOptions<Entity>|Partial<Entity>): Promise<Entity[]> {\r\n        const metadata = this.connection.getMetadata(entityClass);\r\n        const qb = this.createQueryBuilder(entityClass, FindOptionsUtils.extractFindManyOptionsAlias(optionsOrConditions) || metadata.name);\r\n        FindOptionsUtils.applyFindManyOptionsOrConditionsToQueryBuilder(qb, optionsOrConditions);\r\n\r\n        ids = ids.map(id => {\r\n            if (!metadata.hasMultiplePrimaryKeys && !(id instanceof Object)) {\r\n                return metadata.createEntityIdMap([id]);\r\n            }\r\n            return id;\r\n        });\r\n        qb.andWhereInIds(ids);\r\n        return qb.getMany();\r\n    }\r\n\r\n    /**\r\n     * Finds first entity that matches given find options.\r\n     */\r\n    findOne<Entity>(entityClass: ObjectType<Entity>|string, options?: FindOneOptions<Entity>): Promise<Entity|undefined>;\r\n\r\n    /**\r\n     * Finds first entity that matches given conditions.\r\n     */\r\n    findOne<Entity>(entityClass: ObjectType<Entity>|string, conditions?: Partial<Entity>): Promise<Entity|undefined>;\r\n\r\n    /**\r\n     * Finds first entity that matches given conditions.\r\n     */\r\n    findOne<Entity>(entityClass: ObjectType<Entity>|string, optionsOrConditions?: FindOneOptions<Entity>|Partial<Entity>): Promise<Entity|undefined> {\r\n        const metadata = this.connection.getMetadata(entityClass);\r\n        const qb = this.createQueryBuilder(entityClass, FindOptionsUtils.extractFindOneOptionsAlias(optionsOrConditions) || metadata.name);\r\n        return FindOptionsUtils.applyFindOneOptionsOrConditionsToQueryBuilder(qb, optionsOrConditions).getOne();\r\n    }\r\n\r\n    /**\r\n     * Finds entity with given id.\r\n     * Optionally find options can be applied.\r\n     */\r\n    findOneById<Entity>(entityClass: ObjectType<Entity>|string, id: any, options?: FindOneOptions<Entity>): Promise<Entity|undefined>;\r\n\r\n    /**\r\n     * Finds entity with given id.\r\n     * Optionally conditions can be applied.\r\n     */\r\n    findOneById<Entity>(entityClass: ObjectType<Entity>|string, id: any, conditions?: Partial<Entity>): Promise<Entity|undefined>;\r\n\r\n    /**\r\n     * Finds entity with given id.\r\n     * Optionally find options or conditions can be applied.\r\n     */\r\n    findOneById<Entity>(entityClass: ObjectType<Entity>|string, id: any, optionsOrConditions?: FindOneOptions<Entity>|Partial<Entity>): Promise<Entity|undefined> {\r\n        const metadata = this.connection.getMetadata(entityClass);\r\n        const qb = this.createQueryBuilder(entityClass, FindOptionsUtils.extractFindOneOptionsAlias(optionsOrConditions) || metadata.name);\r\n        if (metadata.hasMultiplePrimaryKeys && !(id instanceof Object)) {\r\n            // const columnNames = this.metadata.getEntityIdMap({  });\r\n            throw new Error(`You have multiple primary keys in your entity, to use findOneById with multiple primary keys please provide ` +\r\n                `complete object with all entity ids, like this: { firstKey: value, secondKey: value }`);\r\n        }\r\n\r\n        FindOptionsUtils.applyFindOneOptionsOrConditionsToQueryBuilder(qb, optionsOrConditions);\r\n        if (!metadata.hasMultiplePrimaryKeys && !(id instanceof Object)) {\r\n            id = metadata.createEntityIdMap([id]);\r\n        }\r\n        qb.andWhereInIds([id]);\r\n        return qb.getOne();\r\n    }\r\n\r\n    /**\r\n     * Executes raw SQL query and returns raw database results.\r\n     */\r\n    async query(query: string, parameters?: any[]): Promise<any> {\r\n        if (this.queryRunnerProvider && this.queryRunnerProvider.isReleased)\r\n            throw new QueryRunnerProviderAlreadyReleasedError();\r\n\r\n        const queryRunnerProvider = this.queryRunnerProvider || new QueryRunnerProvider(this.connection.driver);\r\n        const queryRunner = await queryRunnerProvider.provide();\r\n\r\n        try {\r\n            return await queryRunner.query(query, parameters);  // await is needed here because we are using finally\r\n\r\n        } finally {\r\n            await queryRunnerProvider.release(queryRunner);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Wraps given function execution (and all operations made there) in a transaction.\r\n     * All database operations must be executed using provided entity manager.\r\n     */\r\n    async transaction(runInTransaction: (entityManger: EntityManager) => Promise<any>): Promise<any> {\r\n        if (this.queryRunnerProvider && this.queryRunnerProvider.isReleased)\r\n            throw new QueryRunnerProviderAlreadyReleasedError();\r\n\r\n        const queryRunnerProvider = this.queryRunnerProvider || new QueryRunnerProvider(this.connection.driver, true);\r\n        const queryRunner = await queryRunnerProvider.provide();\r\n        const transactionEntityManager = new EntityManager(this.connection, queryRunnerProvider);\r\n\r\n        try {\r\n            await queryRunner.beginTransaction();\r\n            const result = await runInTransaction(transactionEntityManager);\r\n            await queryRunner.commitTransaction();\r\n            return result;\r\n\r\n        } catch (err) {\r\n            await queryRunner.rollbackTransaction();\r\n            throw err;\r\n\r\n        } finally {\r\n            await queryRunnerProvider.release(queryRunner);\r\n            if (!this.queryRunnerProvider) // if we used a new query runner provider then release it\r\n                await queryRunnerProvider.releaseReused();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Clears all the data from the given table (truncates/drops it).\r\n     */\r\n    async clear<Entity>(entityClass: ObjectType<Entity>|string): Promise<void> {\r\n        const metadata = this.connection.getMetadata(entityClass);\r\n        const queryRunnerProvider = this.queryRunnerProvider || new QueryRunnerProvider(this.connection.driver);\r\n        const queryRunner = await queryRunnerProvider.provide();\r\n        try {\r\n            return await queryRunner.truncate(metadata.tableName); // await is needed here because we are using finally\r\n\r\n        } finally {\r\n            await queryRunnerProvider.release(queryRunner);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Gets repository for the given entity class or name.\r\n     * If single database connection mode is used, then repository is obtained from the\r\n     * repository aggregator, where each repository is individually created for this entity manager.\r\n     * When single database connection is not used, repository is being obtained from the connection.\r\n     */\r\n    getRepository<Entity>(entityClassOrName: ObjectType<Entity>|string): Repository<Entity> {\r\n\r\n        // if single db connection is used then create its own repository with reused query runner\r\n        if (this.queryRunnerProvider)\r\n            return this.obtainRepositoryAggregator(entityClassOrName as any).repository;\r\n\r\n        return this.connection.getRepository<Entity>(entityClassOrName as any);\r\n    }\r\n\r\n    /**\r\n     * Gets tree repository for the given entity class or name.\r\n     * If single database connection mode is used, then repository is obtained from the\r\n     * repository aggregator, where each repository is individually created for this entity manager.\r\n     * When single database connection is not used, repository is being obtained from the connection.\r\n     */\r\n    getTreeRepository<Entity>(entityClassOrName: ObjectType<Entity>|string): TreeRepository<Entity> {\r\n\r\n        // if single db connection is used then create its own repository with reused query runner\r\n        if (this.queryRunnerProvider) {\r\n            const treeRepository = this.obtainRepositoryAggregator(entityClassOrName).treeRepository;\r\n            if (!treeRepository)\r\n                throw new RepositoryNotTreeError(entityClassOrName);\r\n\r\n            return treeRepository;\r\n        }\r\n\r\n        return this.connection.getTreeRepository<Entity>(entityClassOrName as any);\r\n    }\r\n\r\n    /**\r\n     * Gets mongodb repository for the given entity class.\r\n     */\r\n    getMongoRepository<Entity>(entityClass: ObjectType<Entity>): MongoRepository<Entity>;\r\n\r\n    /**\r\n     * Gets mongodb repository for the given entity name.\r\n     */\r\n    getMongoRepository<Entity>(entityName: string): MongoRepository<Entity>;\r\n\r\n    /**\r\n     * Gets mongodb repository for the given entity class or name.\r\n     */\r\n    getMongoRepository<Entity>(entityClassOrName: ObjectType<Entity>|string): MongoRepository<Entity> {\r\n\r\n        // if single db connection is used then create its own repository with reused query runner\r\n        if (this.queryRunnerProvider)\r\n            return this.obtainRepositoryAggregator(entityClassOrName as any).repository as MongoRepository<Entity>;\r\n\r\n        return this.connection.getMongoRepository<Entity>(entityClassOrName as any);\r\n    }\r\n\r\n    /**\r\n     * Gets specific repository for the given entity class.\r\n     * If single database connection mode is used, then repository is obtained from the\r\n     * repository aggregator, where each repository is individually created for this entity manager.\r\n     * When single database connection is not used, repository is being obtained from the connection.\r\n     *\r\n     * @deprecated Don't use specific repository - it will be refactored or removed\r\n     */\r\n    getSpecificRepository<Entity>(entityClass: ObjectType<Entity>): SpecificRepository<Entity>;\r\n\r\n    /**\r\n     * Gets specific repository for the given entity name.\r\n     * If single database connection mode is used, then repository is obtained from the\r\n     * repository aggregator, where each repository is individually created for this entity manager.\r\n     * When single database connection is not used, repository is being obtained from the connection.\r\n     *\r\n     * @deprecated Don't use specific repository - it will be refactored or removed\r\n     */\r\n    getSpecificRepository<Entity>(entityName: string): SpecificRepository<Entity>;\r\n\r\n    /**\r\n     * Gets specific repository for the given entity class or name.\r\n     * If single database connection mode is used, then repository is obtained from the\r\n     * repository aggregator, where each repository is individually created for this entity manager.\r\n     * When single database connection is not used, repository is being obtained from the connection.\r\n     *\r\n     * @deprecated Don't use specific repository - it will be refactored or removed\r\n     */\r\n    getSpecificRepository<Entity>(entityClassOrName: ObjectType<Entity>|string): SpecificRepository<Entity> {\r\n\r\n        // if single db connection is used then create its own repository with reused query runner\r\n        if (this.queryRunnerProvider)\r\n            return this.obtainRepositoryAggregator(entityClassOrName).specificRepository;\r\n\r\n        return this.connection.getSpecificRepository<Entity>(entityClassOrName as any);\r\n    }\r\n\r\n    /**\r\n     * Gets custom entity repository marked with @EntityRepository decorator.\r\n     */\r\n    getCustomRepository<T>(customRepository: ObjectType<T>): T {\r\n        const entityRepositoryMetadataArgs = getMetadataArgsStorage().entityRepositories.find(repository => {\r\n            return repository.target === (customRepository instanceof Function ? customRepository : (customRepository as any).constructor);\r\n        });\r\n        if (!entityRepositoryMetadataArgs)\r\n            throw new CustomRepositoryNotFoundError(customRepository);\r\n\r\n        const entityMetadata = entityRepositoryMetadataArgs.entity ? this.connection.getMetadata(entityRepositoryMetadataArgs.entity) : undefined;\r\n\r\n        const entityRepositoryInstance = new (entityRepositoryMetadataArgs.target as any)(this, entityMetadata);\r\n\r\n        // NOTE: dynamic access to protected properties. We need this to prevent unwanted properties in those classes to be exposed,\r\n        // however we need these properties for internal work of the class\r\n        if (entityRepositoryInstance instanceof AbstractRepository) {\r\n            if (!(entityRepositoryInstance as any)[\"manager\"])\r\n                (entityRepositoryInstance as any)[\"manager\"] = this;\r\n        }\r\n        if (entityRepositoryInstance instanceof Repository) {\r\n            if (!entityMetadata)\r\n                throw new CustomRepositoryCannotInheritRepositoryError(customRepository);\r\n\r\n            (entityRepositoryInstance as any)[\"manager\"] = this;\r\n            (entityRepositoryInstance as any)[\"metadata\"] = entityMetadata;\r\n        }\r\n\r\n        return entityRepositoryInstance;\r\n    }\r\n\r\n    /**\r\n     * Releases all resources used by entity manager.\r\n     * This is used when entity manager is created with a single query runner,\r\n     * and this single query runner needs to be released after job with entity manager is done.\r\n     */\r\n    async release(): Promise<void> {\r\n        if (!this.queryRunnerProvider)\r\n            throw new NoNeedToReleaseEntityManagerError();\r\n\r\n        return this.queryRunnerProvider.releaseReused();\r\n    }\r\n\r\n    // -------------------------------------------------------------------------\r\n    // Protected Methods\r\n    // -------------------------------------------------------------------------\r\n\r\n    /**\r\n     * Performs a save operation for a single entity.\r\n     */\r\n    protected async saveOne(target: Function|string, entity: any, options?: SaveOptions): Promise<void> {\r\n        const metadata = this.connection.getMetadata(target);\r\n        const queryRunnerProvider = this.queryRunnerProvider || new QueryRunnerProvider(this.connection.driver, true);\r\n        try {\r\n            const transactionEntityManager = this.connection.createEntityManagerWithSingleDatabaseConnection(queryRunnerProvider);\r\n            // transactionEntityManager.data =\r\n\r\n            const databaseEntityLoader = new SubjectBuilder(this.connection, queryRunnerProvider);\r\n            await databaseEntityLoader.persist(entity, metadata);\r\n\r\n            const executor = new SubjectOperationExecutor(this.connection, transactionEntityManager, queryRunnerProvider);\r\n            await executor.execute(databaseEntityLoader.operateSubjects);\r\n\r\n        } finally {\r\n            if (!this.queryRunnerProvider) // release it only if its created by this method\r\n                await queryRunnerProvider.releaseReused();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Performs a remove operation for a single entity.\r\n     */\r\n    protected async removeOne(target: Function|string, entity: any, options?: RemoveOptions): Promise<void> {\r\n        const metadata = this.connection.getMetadata(target);\r\n        const queryRunnerProvider = this.queryRunnerProvider || new QueryRunnerProvider(this.connection.driver, true);\r\n        try {\r\n            const transactionEntityManager = this.connection.createEntityManagerWithSingleDatabaseConnection(queryRunnerProvider);\r\n\r\n            const databaseEntityLoader = new SubjectBuilder(this.connection, queryRunnerProvider);\r\n            await databaseEntityLoader.remove(entity, metadata);\r\n\r\n            const executor = new SubjectOperationExecutor(this.connection, transactionEntityManager, queryRunnerProvider);\r\n            await executor.execute(databaseEntityLoader.operateSubjects);\r\n\r\n        } finally {\r\n            if (!this.queryRunnerProvider) // release it only if its created by this method\r\n                await queryRunnerProvider.releaseReused();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Gets, or if does not exist yet, creates and returns a repository aggregator for a particular entity target.\r\n     */\r\n    protected obtainRepositoryAggregator<Entity>(entityClassOrName: ObjectType<Entity>|string): RepositoryAggregator {\r\n        if (this.queryRunnerProvider && this.queryRunnerProvider.isReleased)\r\n            throw new QueryRunnerProviderAlreadyReleasedError();\r\n\r\n        const metadata = this.connection.getMetadata(entityClassOrName);\r\n        let repositoryAggregator = this.repositoryAggregators.find(repositoryAggregate => repositoryAggregate.metadata === metadata);\r\n        if (!repositoryAggregator) {\r\n            repositoryAggregator = new RepositoryAggregator(\r\n                this.connection,\r\n                this.connection.getMetadata(entityClassOrName as any),\r\n                this.queryRunnerProvider\r\n            );\r\n            this.repositoryAggregators.push(repositoryAggregator); // todo: check isnt memory leak here?\r\n        }\r\n\r\n        return repositoryAggregator;\r\n    }\r\n\r\n}"],"sourceRoot":".."}